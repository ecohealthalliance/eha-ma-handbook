<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>13 Encryption | EHA Modeling &amp; Analytics Handbook</title>
  <meta name="description" content="13 Encryption | EHA Modeling &amp; Analytics Handbook" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="13 Encryption | EHA Modeling &amp; Analytics Handbook" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="ecohealthalliance/eha-ma-handbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="13 Encryption | EHA Modeling &amp; Analytics Handbook" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
<link rel="prev" href="12-google-authorization-and-r.html"/>
<link rel="next" href="14-dependencies.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
<script type="text/javascript" src="https://aegypti.ecohealthalliance.org:22051/status/dashboard.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="http://www.ecohealthalliance.org" target="_blank"><img src="assets/eha_logo.png" style="max-width: 100%"></a></li>
<li><a href="./" style="text-align:center"><strong>Modeling & Analytics Handbook</strong><a/></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="1-quickstart-for-computing.html"><a href="1-quickstart-for-computing.html"><i class="fa fa-check"></i><b>1</b> Quickstart for computing</a><ul>
<li class="chapter" data-level="1.1" data-path="1-quickstart-for-computing.html"><a href="1-quickstart-for-computing.html#optional"><i class="fa fa-check"></i><b>1.1</b> Optional</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-projects.html"><a href="2-projects.html"><i class="fa fa-check"></i><b>2</b> Project Management</a><ul>
<li class="chapter" data-level="2.1" data-path="2-projects.html"><a href="2-projects.html#teams-and-work-cycles"><i class="fa fa-check"></i><b>2.1</b> Teams and Work Cycles</a></li>
<li class="chapter" data-level="2.2" data-path="2-projects.html"><a href="2-projects.html#setup-and-materials-organization"><i class="fa fa-check"></i><b>2.2</b> Setup and materials Organization</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-projects.html"><a href="2-projects.html#code-organization"><i class="fa fa-check"></i><b>2.2.1</b> Code organization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-r.html"><a href="3-r.html"><i class="fa fa-check"></i><b>3</b> R and Reproducible Analysis</a><ul>
<li class="chapter" data-level="3.1" data-path="3-r.html"><a href="3-r.html#install"><i class="fa fa-check"></i><b>3.1</b> Install</a></li>
<li class="chapter" data-level="3.2" data-path="3-r.html"><a href="3-r.html#learn"><i class="fa fa-check"></i><b>3.2</b> Learn</a></li>
<li class="chapter" data-level="3.3" data-path="3-r.html"><a href="3-r.html#additional-resources"><i class="fa fa-check"></i><b>3.3</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-eha-team-communication.html"><a href="4-eha-team-communication.html"><i class="fa fa-check"></i><b>4</b> EHA Team Communication</a><ul>
<li class="chapter" data-level="4.1" data-path="4-eha-team-communication.html"><a href="4-eha-team-communication.html#install-1"><i class="fa fa-check"></i><b>4.1</b> Install</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-documentation-and-outputs.html"><a href="5-documentation-and-outputs.html"><i class="fa fa-check"></i><b>5</b> Documentation and Outputs</a><ul>
<li class="chapter" data-level="5.1" data-path="5-documentation-and-outputs.html"><a href="5-documentation-and-outputs.html#learn-1"><i class="fa fa-check"></i><b>5.1</b> Learn</a></li>
<li class="chapter" data-level="5.2" data-path="5-documentation-and-outputs.html"><a href="5-documentation-and-outputs.html#install-2"><i class="fa fa-check"></i><b>5.2</b> Install</a></li>
<li class="chapter" data-level="5.3" data-path="5-documentation-and-outputs.html"><a href="5-documentation-and-outputs.html#library"><i class="fa fa-check"></i><b>5.3</b> Library</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-data-management.html"><a href="6-data-management.html"><i class="fa fa-check"></i><b>6</b> Data Management</a><ul>
<li class="chapter" data-level="6.1" data-path="6-data-management.html"><a href="6-data-management.html#learn-2"><i class="fa fa-check"></i><b>6.1</b> Learn</a></li>
<li class="chapter" data-level="6.2" data-path="6-data-management.html"><a href="6-data-management.html#install-3"><i class="fa fa-check"></i><b>6.2</b> Install</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-version-control-git-and-github.html"><a href="7-version-control-git-and-github.html"><i class="fa fa-check"></i><b>7</b> Version Control, Git and Github</a><ul>
<li class="chapter" data-level="7.1" data-path="7-version-control-git-and-github.html"><a href="7-version-control-git-and-github.html#learn-3"><i class="fa fa-check"></i><b>7.1</b> Learn</a></li>
<li class="chapter" data-level="7.2" data-path="7-version-control-git-and-github.html"><a href="7-version-control-git-and-github.html#install-4"><i class="fa fa-check"></i><b>7.2</b> Install</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-reviewing-analyses-and-code.html"><a href="8-reviewing-analyses-and-code.html"><i class="fa fa-check"></i><b>8</b> Reviewing Analyses and Code</a><ul>
<li class="chapter" data-level="8.1" data-path="8-reviewing-analyses-and-code.html"><a href="8-reviewing-analyses-and-code.html#learn-4"><i class="fa fa-check"></i><b>8.1</b> Learn</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-testing.html"><a href="9-testing.html"><i class="fa fa-check"></i><b>9</b> Testing</a><ul>
<li class="chapter" data-level="9.1" data-path="9-testing.html"><a href="9-testing.html#learn-5"><i class="fa fa-check"></i><b>9.1</b> Learn</a></li>
<li class="chapter" data-level="9.2" data-path="9-testing.html"><a href="9-testing.html#install-5"><i class="fa fa-check"></i><b>9.2</b> Install</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-high-performance-servers.html"><a href="10-high-performance-servers.html"><i class="fa fa-check"></i><b>10</b> High-Performance Servers</a></li>
<li class="chapter" data-level="11" data-path="11-cloud-computing-services.html"><a href="11-cloud-computing-services.html"><i class="fa fa-check"></i><b>11</b> Cloud Computing Services</a><ul>
<li class="chapter" data-level="11.1" data-path="11-cloud-computing-services.html"><a href="11-cloud-computing-services.html#setting-up-amazon-credentials"><i class="fa fa-check"></i><b>11.1</b> Setting up Amazon Credentials</a><ul>
<li class="chapter" data-level="11.1.1" data-path="11-cloud-computing-services.html"><a href="11-cloud-computing-services.html#generate-an-access-key"><i class="fa fa-check"></i><b>11.1.1</b> Generate an access key</a></li>
<li class="chapter" data-level="11.1.2" data-path="11-cloud-computing-services.html"><a href="11-cloud-computing-services.html#create-a-credentials-file"><i class="fa fa-check"></i><b>11.1.2</b> Create a credentials file</a></li>
<li class="chapter" data-level="11.1.3" data-path="11-cloud-computing-services.html"><a href="11-cloud-computing-services.html#test-your-key"><i class="fa fa-check"></i><b>11.1.3</b> Test your Key</a></li>
<li class="chapter" data-level="11.1.4" data-path="11-cloud-computing-services.html"><a href="11-cloud-computing-services.html#alternate-credentialing-method"><i class="fa fa-check"></i><b>11.1.4</b> Alternate credentialing method</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="11-cloud-computing-services.html"><a href="11-cloud-computing-services.html#using-amazon-s3-storage-from-r"><i class="fa fa-check"></i><b>11.2</b> Using Amazon S3 Storage from R</a><ul>
<li class="chapter" data-level="11.2.1" data-path="11-cloud-computing-services.html"><a href="11-cloud-computing-services.html#save-objects-from-s3-to-your-machine"><i class="fa fa-check"></i><b>11.2.1</b> Save objects from S3 to your machine</a></li>
<li class="chapter" data-level="11.2.2" data-path="11-cloud-computing-services.html"><a href="11-cloud-computing-services.html#upload-objects-from-your-machine-to-s3"><i class="fa fa-check"></i><b>11.2.2</b> Upload objects from your machine to S3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html"><i class="fa fa-check"></i><b>12</b> Google Authorization and R</a><ul>
<li class="chapter" data-level="12.1" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#the-basic-overview"><i class="fa fa-check"></i><b>12.1</b> The basic overview:</a></li>
<li class="chapter" data-level="12.2" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#key-terms"><i class="fa fa-check"></i><b>12.2</b> Key Terms</a></li>
<li class="chapter" data-level="12.3" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#before-we-start"><i class="fa fa-check"></i><b>12.3</b> Before we start:</a></li>
<li class="chapter" data-level="12.4" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#setting-up-non-interactive-authentication-for-google-sheets"><i class="fa fa-check"></i><b>12.4</b> Setting up non-interactive authentication for Google sheets</a><ul>
<li class="chapter" data-level="12.4.1" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#create-a-google-cloud-platform-project"><i class="fa fa-check"></i><b>12.4.1</b> Create a Google cloud platform project</a></li>
<li class="chapter" data-level="12.4.2" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#enable-apis"><i class="fa fa-check"></i><b>12.4.2</b> Enable APIs</a></li>
<li class="chapter" data-level="12.4.3" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#create-a-service-account"><i class="fa fa-check"></i><b>12.4.3</b> Create a Service Account</a></li>
<li class="chapter" data-level="12.4.4" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#create-a-key-for-your-service-account"><i class="fa fa-check"></i><b>12.4.4</b> Create a Key for your service account</a></li>
<li class="chapter" data-level="12.4.5" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#share-the-google-drive-resources-of-interest-with-the-service-account"><i class="fa fa-check"></i><b>12.4.5</b> Share the Google drive resources of interest with the service account</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#general-approach-to-securely-managing-keys"><i class="fa fa-check"></i><b>12.5</b> General approach to securely managing keys</a><ul>
<li class="chapter" data-level="12.5.1" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#provide-a-service-account-key-for-projects"><i class="fa fa-check"></i><b>12.5.1</b> Provide a service account key for projects</a></li>
<li class="chapter" data-level="12.5.2" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#securely-managing-your-keys-for-packages"><i class="fa fa-check"></i><b>12.5.2</b> Securely managing your keys for Packages</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#additional-resources-1"><i class="fa fa-check"></i><b>12.6</b> Additional Resources</a><ul>
<li class="chapter" data-level="12.6.1" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#google-drive"><i class="fa fa-check"></i><b>12.6.1</b> Google Drive</a></li>
<li class="chapter" data-level="12.6.2" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#google-sheets"><i class="fa fa-check"></i><b>12.6.2</b> Google Sheets</a></li>
<li class="chapter" data-level="12.6.3" data-path="12-google-authorization-and-r.html"><a href="12-google-authorization-and-r.html#gargle"><i class="fa fa-check"></i><b>12.6.3</b> Gargle</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="13-encryption.html"><a href="13-encryption.html"><i class="fa fa-check"></i><b>13</b> Encryption</a><ul>
<li class="chapter" data-level="13.0.1" data-path="13-encryption.html"><a href="13-encryption.html#set-up-keybase"><i class="fa fa-check"></i><b>13.0.1</b> Set up Keybase</a></li>
<li class="chapter" data-level="13.0.2" data-path="13-encryption.html"><a href="13-encryption.html#install-gpg-and-git-crypt"><i class="fa fa-check"></i><b>13.0.2</b> Install <code>gpg</code> and <code>git-crypt</code></a></li>
<li class="chapter" data-level="13.0.3" data-path="13-encryption.html"><a href="13-encryption.html#create-your-keybase-keys"><i class="fa fa-check"></i><b>13.0.3</b> Create your Keybase keys</a></li>
<li class="chapter" data-level="13.0.4" data-path="13-encryption.html"><a href="13-encryption.html#import-your-keys-to-your-local-keychain"><i class="fa fa-check"></i><b>13.0.4</b> Import your keys to your local keychain</a></li>
<li class="chapter" data-level="13.0.5" data-path="13-encryption.html"><a href="13-encryption.html#also-import-your-keys-to-the-eha-server"><i class="fa fa-check"></i><b>13.0.5</b> Also import your keys to the EHA server</a></li>
<li class="chapter" data-level="13.0.6" data-path="13-encryption.html"><a href="13-encryption.html#use-git-crypt"><i class="fa fa-check"></i><b>13.0.6</b> Use git-crypt</a></li>
<li class="chapter" data-level="13.0.7" data-path="13-encryption.html"><a href="13-encryption.html#extra-use-a-symmetric-key-for-automated-processes"><i class="fa fa-check"></i><b>13.0.7</b> Extra: Use a symmetric key for automated processes</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="14-dependencies.html"><a href="14-dependencies.html"><i class="fa fa-check"></i><b>14</b> Dependency Management</a></li>
<li class="chapter" data-level="15" data-path="15-statistical-methods.html"><a href="15-statistical-methods.html"><i class="fa fa-check"></i><b>15</b> Statistical Methods</a><ul>
<li class="chapter" data-level="15.1" data-path="15-statistical-methods.html"><a href="15-statistical-methods.html#multivariate-regression"><i class="fa fa-check"></i><b>15.1</b> Multivariate Regression</a></li>
<li class="chapter" data-level="15.2" data-path="15-statistical-methods.html"><a href="15-statistical-methods.html#networks"><i class="fa fa-check"></i><b>15.2</b> Networks</a></li>
<li class="chapter" data-level="15.3" data-path="15-statistical-methods.html"><a href="15-statistical-methods.html#bioinformatics-and-sequence-analysis"><i class="fa fa-check"></i><b>15.3</b> Bioinformatics and Sequence Analysis</a></li>
<li class="chapter" data-level="15.4" data-path="15-statistical-methods.html"><a href="15-statistical-methods.html#species-distribution-modeling"><i class="fa fa-check"></i><b>15.4</b> Species Distribution Modeling</a></li>
<li class="chapter" data-level="15.5" data-path="15-statistical-methods.html"><a href="15-statistical-methods.html#epidemic-simulation-and-fitting"><i class="fa fa-check"></i><b>15.5</b> Epidemic Simulation and Fitting</a></li>
<li class="chapter" data-level="15.6" data-path="15-statistical-methods.html"><a href="15-statistical-methods.html#phylogenetics"><i class="fa fa-check"></i><b>15.6</b> Phylogenetics</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="16-data-sources.html"><a href="16-data-sources.html"><i class="fa fa-check"></i><b>16</b> Data Sources</a></li>
<li class="chapter" data-level="17" data-path="17-references.html"><a href="17-references.html"><i class="fa fa-check"></i><b>17</b> References</a><ul>
<li class="chapter" data-level="17.1" data-path="17-references.html"><a href="17-references.html#converting-paperpile-citations-in-google-docs-to-endnote-citations-in-ms-word"><i class="fa fa-check"></i><b>17.1</b> Converting Paperpile Citations in Google Docs to Endnote Citations in MS Word</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="18-training-resources-and-plans.html"><a href="18-training-resources-and-plans.html"><i class="fa fa-check"></i><b>18</b> Training Resources and Plans</a><ul>
<li class="chapter" data-level="18.1" data-path="18-training-resources-and-plans.html"><a href="18-training-resources-and-plans.html#training-plan-components"><i class="fa fa-check"></i><b>18.1</b> Training plan components</a></li>
<li class="chapter" data-level="18.2" data-path="18-training-resources-and-plans.html"><a href="18-training-resources-and-plans.html#training-plans"><i class="fa fa-check"></i><b>18.2</b> Training Plans</a><ul>
<li class="chapter" data-level="18.2.1" data-path="18-training-resources-and-plans.html"><a href="18-training-resources-and-plans.html#better-managing-data"><i class="fa fa-check"></i><b>18.2.1</b> Better Managing Data</a></li>
<li class="chapter" data-level="18.2.2" data-path="18-training-resources-and-plans.html"><a href="18-training-resources-and-plans.html#version-control-and-git"><i class="fa fa-check"></i><b>18.2.2</b> Version Control and Git</a></li>
<li class="chapter" data-level="18.2.3" data-path="18-training-resources-and-plans.html"><a href="18-training-resources-and-plans.html#reproducible-reporting"><i class="fa fa-check"></i><b>18.2.3</b> Reproducible reporting</a></li>
<li class="chapter" data-level="18.2.4" data-path="18-training-resources-and-plans.html"><a href="18-training-resources-and-plans.html#improving-your-statistical-fundamentals"><i class="fa fa-check"></i><b>18.2.4</b> Improving Your Statistical Fundamentals</a></li>
<li class="chapter" data-level="18.2.5" data-path="18-training-resources-and-plans.html"><a href="18-training-resources-and-plans.html#improving-your-data-visualization"><i class="fa fa-check"></i><b>18.2.5</b> Improving your data visualization</a></li>
<li class="chapter" data-level="18.2.6" data-path="18-training-resources-and-plans.html"><a href="18-training-resources-and-plans.html#r-programming"><i class="fa fa-check"></i><b>18.2.6</b> R Programming</a></li>
<li class="chapter" data-level="18.2.7" data-path="18-training-resources-and-plans.html"><a href="18-training-resources-and-plans.html#map-making-and-geospatial-analysis-in-r"><i class="fa fa-check"></i><b>18.2.7</b> Map-making and geospatial analysis in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="19-help.html"><a href="19-help.html"><i class="fa fa-check"></i><b>19</b> Getting Help</a><ul>
<li class="chapter" data-level="19.1" data-path="19-help.html"><a href="19-help.html#minimal-reproducible-examples---helping-others-help-you"><i class="fa fa-check"></i><b>19.1</b> Minimal reproducible examples - helping others help you</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EHA Modeling &amp; Analytics Handbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="encryption" class="section level1">
<h1><span class="header-section-number">13</span> Encryption</h1>
<ul>
<li><em>How do we share data in git repositories that needs to be secure?</em></li>
</ul>
<p>Sometimes we need to store and share secure information, such as API keys to
paid online service accounts. One of our methods of choice for this is to
keep these files stored in git/GitHub repositories, but to encrypt them. We
do this using PGP (Pretty Good Privacy) encryption, implemented by the program
<a href="https://github.com/AGWA/git-crypt"><code>git-crypt</code></a>. It takes a bit to set up
but once activated makes sharing secure and seamless.</p>
<p>The PGP encryption scheme involves making a <em>public</em> key that you share and
a <em>private</em> key that you use do decrypt data encrypted with your public key.
We like and use <a href="https://keybase.io/">Keybase</a>, a service that helps you publish and
verify a public key for this purpose.</p>
<p>Instructions for setting this up are below. They assume you are using MacOS
for local work, but are mostly right for other cases, too.</p>
<div id="set-up-keybase" class="section level3">
<h3><span class="header-section-number">13.0.1</span> Set up Keybase</h3>
<p>Sign up for <a href="https://keybase.io/">Keybase</a>, and follow the instructions for
installing it on your laptop.</p>
</div>
<div id="install-gpg-and-git-crypt" class="section level3">
<h3><span class="header-section-number">13.0.2</span> Install <code>gpg</code> and <code>git-crypt</code></h3>
<p><code>gpg</code> is the program that implements encryption, and <code>git-crypt</code> sets up git
repos for encrypted sharing. These are aleady installed on EHA servers. To install
them on a mac, use <code>homebrew</code>. You should also install <code>pinentry</code>.</p>
</div>
<div id="create-your-keybase-keys" class="section level3">
<h3><span class="header-section-number">13.0.3</span> Create your Keybase keys</h3>
<p>If you are just starting to use keybase, you can generate new keys for use on
your computer using <a href="https://github.com/pstadler/keybase-gpg-github">this guide</a>.
The guide also helps set up using your key to sign GitHub commits, which you
should do for added security.</p>
<p>Do create a password associated with your keys when asked. You can store
this in a service such as LastPass if desired.</p>
<p>At this point you can go to your Keybase account and verify your keys via as
many other services, devices, or online identities as you want. We suggest
at least three.</p>
</div>
<div id="import-your-keys-to-your-local-keychain" class="section level3">
<h3><span class="header-section-number">13.0.4</span> Import your keys to your local keychain</h3>
<p>If you have a Keybase account set and keys already generated, you can now import
your Keybase keys to use. Instruction are found <a href="https://blog.scottlowe.org/2017/09/06/using-keybase-gpg-macos/">here</a>. Do set
your keys to maximum trust level.</p>
</div>
<div id="also-import-your-keys-to-the-eha-server" class="section level3">
<h3><span class="header-section-number">13.0.5</span> Also import your keys to the EHA server</h3>
<p>You will probably want the ability to decrypt files when working remotely,
so place them on the EHA server. You can do this by copying over your whole
<code>gpg</code> keys directory to the server, like so:</p>
<pre><code>scp -rp ~/.gnupg url.of.server:</code></pre>
<p>Note that the main EHA analysis servers share user file systems so you only
have to do this on one of them.</p>
<p>You may have to edit the file <code>~/.gnupg/gpg-agent.conf</code> on the server. If
its first line is <code>pinentry-program /usr/local/bin/pinentry-mac</code>, change it to
<code>pinentry-program /usr/bin/pinentry</code>. Note that it may not exist at all, which
is fine - it means the program is just using default behavior.</p>
</div>
<div id="use-git-crypt" class="section level3">
<h3><span class="header-section-number">13.0.6</span> Use git-crypt</h3>
<p>The <a href="https://github.com/AGWA/git-crypt"><code>git-crypt</code> README</a> outlines the basics
of using <code>git-crypt</code> to add encrypted files to a git repository. If you are
using an encrypted repository someone else set up, they should have added your
public key to the repo, and all you need to do after pulling/cloning is run</p>
<pre><code>git-crypt unlock</code></pre>
<p>in the repository folder. After that encryption and decryption for pushing and
pulling should happen automatically.</p>
<p>One key area missing is how to import the public keys of your team members to
your local keychain. Visit their Keybase profiles (e.g., <a href="https://keybase.io/noamross" class="uri">https://keybase.io/noamross</a>) and click on the key - it will show several ways to import the keys.</p>
<p>Another common source of errors is that the text entry for <code>gpg</code> isn’t set properly. You can fix this by setting the <code>GPG_TTY</code> environment variable like so:</p>
<pre><code>export GPG_TTY=$(tty)</code></pre>
<p>Add this to your <code>.profile</code>, <code>.bashrc</code>, <code>.zshrc</code> or other settigns file.</p>
</div>
<div id="extra-use-a-symmetric-key-for-automated-processes" class="section level3">
<h3><span class="header-section-number">13.0.7</span> Extra: Use a symmetric key for automated processes</h3>
<p>If you are using continuous integration on a repository with encrypted files,
you’ll need to provide a way for the CI system to unlock them. An easy, but
not <em>most</em> secure way is to provide a <em>symmetric key</em>. You can generate
this by running this in your project directory.</p>
<pre><code>git-crypt export-key git_crypt_key.key</code></pre>
<p><code>git_crypt_key.key</code> can now be used to decrypt the repository, and you can provide
it to the CI system as an environment variable. However, since it is binary data,
you’ll need to convert it to base64 first. So run something like:</p>
<pre><code>cat git_crypt_key.key | base64 | pbcopy</code></pre>
<p>to convert this file to base64 data, then paste it in your CI system’s environment
variable field as something like <code>GIT_CRYPT_KEY64</code>.</p>
<p>To use the key later, you’ll need (1) <code>git-crypt</code> and <code>gpg</code> installed in the CI
system image, and (2) to run these commands after the CI clones your repository:</p>
<pre><code>echo $GIT_ENCRYPT_KEY64 &gt; git_crypt_key.key64 &amp;&amp; base64 -d git_crypt_key.key64 &gt; git_crypt_key.key &amp;&amp; git-crypt unlock git_crypt_key.key</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="12-google-authorization-and-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="14-dependencies.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2,
"id": 1
},
"edit": {
"link": "https://github.com/ecohealthalliance/eha-ma-handbook/edit/master/encryption.Rmd",
"text": "Edit this chapter"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
